{{define "title"}}Launch a Survey{{end}}

{{define "body"}}
<h1>Launch a survey</h1>
<div class="field-wrap">

<form action="" method="POST" xmlns="http://www.w3.org/1999/html">
    <div class="field-container">
        <label for="user_id">User ID</label>
        <input id="user_id" name="user_id" type="text" value="UNKNOWN" class="qa-user-id">
    </div>
    <div class="field-container">
        <label for="schema">Schemas</label>
        <select id="schema" name="schema" class="qa-select-schema">
            {{range .Schemas}}
                <option name="{{.Name}}" value="{{.Name}}">{{.Name}}</option>
            {{end}}
        </select>
    </div>
    <div class="field-container">
        <label for="exp">Token Expiry (seconds)</label>
        <input id="exp" name="exp" type="text" value="1800" class="qa-token-expiry">
    </div>

    <div class="field-container">
        <label for="period_str">Period String</label>
        <input id="period_str" name="period_str" type="text" value="May 2016" class="qa-period-str">
    </div>

    <div class="field-container">
        <label for="period_id">Period ID</label>
        <input id="period_id" name="period_id" type="text" value="201605" class="qa-period-id">
    </div>

    <div class="field-container">
        <label for="collection_exercise_sid">Collection Exercise SID</label>
        <span>
            <input id="collection_exercise_sid" name="collection_exercise_sid" type="text" value="789" class="qa-collection-sid">
            <img class="refresh" data-refresh="collection_exercise_sid" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48Zz48cGF0aCBkPSJNMjU2LDM4NC4xYy03MC43LDAtMTI4LTU3LjMtMTI4LTEyOC4xYzAtNzAuOCw1Ny4zLTEyOC4xLDEyOC0xMjguMVY4NGw5Niw2NGwtOTYsNTUuN3YtNTUuOCAgIGMtNTkuNiwwLTEwOC4xLDQ4LjUtMTA4LjEsMTA4LjFjMCw1OS42LDQ4LjUsMTA4LjEsMTA4LjEsMTA4LjFTMzY0LjEsMzE2LDM2NC4xLDI1NkgzODRDMzg0LDMyNywzMjYuNywzODQuMSwyNTYsMzg0LjF6Ii8+PC9nPjwvc3ZnPg==">
        </span>
    </div>

    <div class="field-container">
        <label for="ru_ref">RU Ref</label>
        <span>
            <input id="ru_ref" name="ru_ref" type="text" value="12346789012A" class="qa-ru-ref">
            <img class="refresh" data-refresh="ru_ref" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48Zz48cGF0aCBkPSJNMjU2LDM4NC4xYy03MC43LDAtMTI4LTU3LjMtMTI4LTEyOC4xYzAtNzAuOCw1Ny4zLTEyOC4xLDEyOC0xMjguMVY4NGw5Niw2NGwtOTYsNTUuN3YtNTUuOCAgIGMtNTkuNiwwLTEwOC4xLDQ4LjUtMTA4LjEsMTA4LjFjMCw1OS42LDQ4LjUsMTA4LjEsMTA4LjEsMTA4LjFTMzY0LjEsMzE2LDM2NC4xLDI1NkgzODRDMzg0LDMyNywzMjYuNywzODQuMSwyNTYsMzg0LjF6Ii8+PC9nPjwvc3ZnPg==">
        </span>
    </div>

    <div class="field-container">
        <label for="ru_name">RU Name</label>
        <input id="ru_name" name="ru_name" type="text" value="Apple" class="qa-ru-name">
    </div>

    <div class="field-container">
        <label for="ref_p_start_date">REF P Start Date</label>
        <input id="ref_p_start_date" name="ref_p_start_date" type="text" value="2016-05-01" class="qa-ref-p-start-date">
    </div>

    <div class="field-container">
        <label for="ref_p_end_date">REF P End Date</label>
        <input id="ref_p_end_date" name="ref_p_end_date" type="text" value="2016-05-31" class="qa-ref-p-end-date">
    </div>

    <div class="field-container">
        <label for="return_by">Return By</label>
        <input id="return_by" name="return_by" type="text" value="2016-06-12" class="qa-return-by">
    </div>

    <div class="field-container">
        <label for="trad_as">Trading As</label>
        <input id="trad_as" name="trad_as" type="text" value="Apple" class="qa-trad-as">
    </div>

    <div class="field-container">
        <label for="employment_date">Employment Date</label>
        <input id="employment_date" name="employment_date" type="text" value="2016-06-10" class="qa-employment-date">
    </div>

    <div class="field-container">
        <label for="region_code">Region Code</label>
        <select id="region_code" name="region_code" class="qa-region-code">
            <option name="GB-ENG" value="GB-ENG">GB-ENG</option>
            <option name="GB-GBN" value="GB-GBN">GB-GBN</option>
            <option name="GB-NIR" value="GB-NIR">GB-NIR</option>
            <option name="GB-WLS" value="GB-WLS">GB-WLS</option>
        </select>
    </div>

    <div class="field-container">
        <label for="language_code">Language</label>
        <select id="language_code" name="language_code" class="qa-language-code">
            <option name="en" value="en">en</option>
            <option name="cy" value="cy">cy</option>
        </select>
    </div>

    <div class="field-container">
        <label for="sexual_identity">Sexual Identity Flag</label>
        <input id="sexual_identity" type="checkbox" name="sexual_identity" class="qa-sexual-identity" value="true">
    </div>

    <div class="field-container">
        <label for="roles">Roles</label>
        <select id="roles" name="roles" multiple="multiple" class="qa-roles">
            <option name="flusher" value="flusher">flusher</option>
            <option name="dumper" value="dumper">dumper</option>
        </select>
    </div>

    <div class="field-container">
        <input type="submit" name="action_launch" value="Open Survey" class="qa-btn-submit-dev btn"/>
        <input type="submit" name="action_flush" value="Flush Survey Data" class="qa-btn-submit-dev btn"/>
    </div>

</form>
</div>

<script>

    var refresh = document.getElementsByClassName('refresh');

    function rando(el) {
        var result = '';
        var length = '8';
        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        var el = el;
        for (var i = length; i > 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];
        document.getElementById(el).value = result;
    }

    for (var i = 0; i < refresh.length; i++) {
        refresh[i].addEventListener("click", function() {
            var el = this.getAttribute("data-refresh");
            rando(el);
        },false);
    }

</script>

{{end}}
